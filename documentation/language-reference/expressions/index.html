<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.6 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Expressions - Arend Theorem Prover</title>
<meta name="description" content="The Arend Theorem Prover">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arend Theorem Prover">
<meta property="og:title" content="Expressions">
<meta property="og:url" content="https://arend-lang.github.io/documentation/language-reference/expressions/">













<link rel="canonical" href="https://arend-lang.github.io/documentation/language-reference/expressions/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Arend",
      "url": "https://arend-lang.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arend Theorem Prover Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Arend Theorem Prover
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about" >About</a>
            </li><li class="masthead__menu-item">
              <a href="/documentation" >Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/download" >Download</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      



<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>

  
  
  
  

  
  
  

  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/documentation/getting-started"><span class="nav__sub-title">Getting Started</span></a>
        

        
      </li>
    
      <li>
        
          
          

          <a href="/documentation/language-reference"><span class="nav__sub-title">Language Reference</span></a>
        

        
        <ul>
          
            
            

            

            <li><a href="/documentation/language-reference/lexical-structure" class="">Lexical structure</a></li>

            
            
            
          
            
            

            

            <li><a href="/documentation/language-reference/definitions" class="">Definitions</a></li>

            
            
            
          
            
            

            

            <li><a href="/documentation/language-reference/expressions" class="active">Expressions</a></li>

            
            
            
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/goals" class="">&nbsp;&nbsp;&nbsp;&nbsp;Goals</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/universes" class="">&nbsp;&nbsp;&nbsp;&nbsp;Universes</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/pi" class="">&nbsp;&nbsp;&nbsp;&nbsp;Pi types</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/sigma" class="">&nbsp;&nbsp;&nbsp;&nbsp;Sigma types</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/let" class="">&nbsp;&nbsp;&nbsp;&nbsp;Let</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/case" class="">&nbsp;&nbsp;&nbsp;&nbsp;Case</a></li>
              
                
                

                

                <li><a href="/documentation/language-reference/expressions/class-ext" class="">&nbsp;&nbsp;&nbsp;&nbsp;Class extensions</a></li>
              
            
          
            
            

            

            <li><a href="/documentation/language-reference/prelude" class="">Prelude</a></li>

            
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/documentation/libraries"><span class="nav__sub-title">Libraries</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Expressions">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Expressions
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Expressions</h4></header>
              <ul class="toc__menu">
  <li><a href="#evaluation">Evaluation</a></li>
  <li><a href="#types">Types</a></li>
  <li><a href="#defcalls">Defcalls</a></li>
</ul>
            </nav>
          </aside>
        
        <p>An expression denotes a value which may depend on some variables.
The basic example of an expression is simply a variable <span class="inl-highlight">x</span>.
Of course, <span class="inl-highlight">x</span> must be defined somewhere in order for such an expression to make sense.
It can be either a parameter (of a <a href="../definitions/parameters">definition</a>, or a <a href="pi">lambda expression</a>, or a <a href="pi">pi expression</a>, or a <a href="sigma">sigma expression</a>),
a variable defined in a <a href="let">let expression</a>, or a variable defined in a <a href="../definitions/functions#pattern-matching">pattern</a>.</p>

<p>If <span class="inl-highlight">e<span class="o">,</span> e_1<span class="o">,</span> … e_n</span> are expressions and <span class="inl-highlight">x_1<span class="o">,</span> … x_n</span> are variables, then we will write <span class="inl-highlight">e[e_1/x_1<span class="o">,</span> … e_n/x_n]</span> for the <em>substitution</em> operation.
This is a meta-operation, namely, it is a function on the set of expressions of the language and not an expression itself.
The expression <span class="inl-highlight">e[e_1/x_1<span class="o">,</span> … e_n/x_n]</span> is simply <span class="inl-highlight">e</span> in which every occurrence of each of the variables <span class="inl-highlight">x_i</span> is replaced with the expression <span class="inl-highlight">e_i</span>.</p>

<h2 id="evaluation">Evaluation</h2>

<p>There is a binary relation <span class="inl-highlight"><span class="o">=&gt;</span></span> on the set of expressions called the <em>reduction relation</em>.
If <span class="inl-highlight">e_1 <span class="o">=&gt;</span> … <span class="o">=&gt;</span> e_n</span>, we will say that <span class="inl-highlight">e_1</span> <em>reduces</em> to <span class="inl-highlight">e_n</span>.
If there is no <span class="inl-highlight">e’</span> such that <span class="inl-highlight">e <span class="o">=&gt;</span> e’</span>, we will say that <span class="inl-highlight">e</span> is a <em>normal form</em>.
If <span class="inl-highlight">e</span> reduces to <span class="inl-highlight">e’</span> and <span class="inl-highlight">e’</span> is a normal form, we will say that <span class="inl-highlight">e’</span> is a <em>normal form</em> of <span class="inl-highlight">e</span> and that <span class="inl-highlight">e</span> <em>evaluates</em> to <span class="inl-highlight">e’</span>.
Every expression has a unique normal form.</p>

<p>The relation <span class="inl-highlight"><span class="o">=&gt;</span></span> is a meta-relation on the set of expressions of the language, that is you cannot refer to it explicitly in the language.
This relation is used by the typechecker to compare expressions.
The typechecker never compares expressions directly.
To compare expressions <span class="inl-highlight">e_1</span> and <span class="inl-highlight">e_2</span>, it first evaluates their normal forms and then compares them.
Since normal forms always exist, the comparison algorithm always terminates, but it is easy to write an expression that does not evaluate in any reasonable time.</p>

<p>The reflexive, symmetric, and transitive closure of <span class="inl-highlight"><span class="o">=&gt;</span></span> is denoted by <span class="inl-highlight"><span class="o">==</span></span> and called the <em>computational equality</em>.
We will often call terms <span class="inl-highlight">t_1</span> and <span class="inl-highlight">t_2</span> such that <span class="inl-highlight">t_1 <span class="o">==</span> t_2</span> simply <em>equivalent</em>.</p>

<h2 id="types">Types</h2>

<p>Every expression has a type. The notation <span class="inl-highlight">e <span class="o">:</span> E</span> is used for the judgement that an expression <span class="inl-highlight">e</span> has type <span class="inl-highlight">E</span>.</p>

<p>A type is an expression which has type <span class="inl-highlight"><span class="kt">\Type</span></span>.
The expression <span class="inl-highlight"><span class="kt">\Type</span></span> is discussed in <a href="universes">Universes</a>.</p>

<p>Every variable has a type which is the one specified when the variable is defined or, if it is not specified, the one that can be inferred.
An expression of the form <span class="inl-highlight">x</span> has the type of the variable <span class="inl-highlight">x</span>.</p>

<p>The type of an expression can usually be inferred automatically, but in rare cases, when it cannot be inferred, or
just for the sake of readability it can also be specified explicitly.
An expression of the form <span class="inl-highlight">(e <span class="o">:</span> E)</span> (parentheses are necessary) is equivalent to <span class="inl-highlight">e</span>, but also has an explicit type
annotation.
In this expression, <span class="inl-highlight">e</span> must have type <span class="inl-highlight">E</span> and the type of the whole expression is also <span class="inl-highlight">E</span> (since it is equivalent to <span class="inl-highlight">e</span>).</p>

<h2 id="defcalls">Defcalls</h2>

<p>A <em>defcall</em> is an expression of the form <span class="inl-highlight">f a_1 … a_n</span>, where <span class="inl-highlight">f</span> is the name of a definition with n parameters
and <span class="inl-highlight">a_1<span class="o">,</span> …<span class="o">,</span> a_n</span> are expressions. Note that classes and records do not have parameters and any defcall in this
case is of the form <span class="inl-highlight">f</span>. Expression of the form <span class="inl-highlight">f a_1 … a_n</span>, where <span class="inl-highlight">f</span> is the name of a class, are <em>class
extensions</em>, see <a href="class-ext">Class extensions</a> for details.</p>

<p>Defcall expressions have the following properties:</p>

<ul>
  <li>
    <p>If <span class="inl-highlight">f</span> is a definition with parameters <span class="inl-highlight">x_1<span class="o">,</span> … x_n</span> and the result type <span class="inl-highlight">R</span>, then the type of a 
defcall <span class="inl-highlight">f a_1 … a_n</span> is <span class="inl-highlight">R[a_1/x_1<span class="o">,</span> … a_n/x_n]</span>.</p>
  </li>
  <li>
    <p>If <span class="inl-highlight">f</span> is either a class, a record, a data type, a constructor without conditions, an instance, or a
function defined by copattern matching, then <span class="inl-highlight">f a_1 … a_n</span> is a normal form whenever <span class="inl-highlight">a_1<span class="o">,</span> … a_n</span> are.</p>
  </li>
  <li>
    <p>If <span class="inl-highlight">f</span> is a function defined as <span class="inl-highlight"><span class="k">\func</span> f (x_1 <span class="o">:</span> A_1) … (x_n <span class="o">:</span> A_n) <span class="o">=&gt;</span> e</span>, then <span class="inl-highlight">f a_1 … a_n</span> reduces
to <span class="inl-highlight">e[a_1/x_1<span class="o">,</span> … a_n/x_n]</span>. If <span class="inl-highlight">f</span> is a function defined by pattern matching or a constructor with conditions, then the evaluation of
defcalls <span class="inl-highlight">f a_1 … a_n</span> is described in <a href="../definitions/functions#pattern-matching">Functions</a>.
If <span class="inl-highlight">f</span> is an instance or a function defined by copattern matching, then the evaluation of defcalls <span class="inl-highlight">f a_1 … a_n</span> is described in <a href="../definitions/classes#instances">Classes</a>.</p>
  </li>
  <li>
    <p>If <span class="inl-highlight">f</span> has n parameters and k &lt; n, an expression of the form <span class="inl-highlight">f a_1 … a_k</span> is also valid and is equivalent to <span class="inl-highlight"><span class="k">\lam</span> a_{k+1} … a_n <span class="o">=&gt;</span> f a_1 … a_n</span>.</p>
  </li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/JetBrains/Arend" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://twitter.com/ArendLang" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> Twitter</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Arend. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
