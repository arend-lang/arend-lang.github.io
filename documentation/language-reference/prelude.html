<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.6 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Prelude - Arend Theorem Prover</title>
<meta name="description" content="The Arend Theorem Prover">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arend Theorem Prover">
<meta property="og:title" content="Prelude">
<meta property="og:url" content="https://arend-lang.github.io/documentation/language-reference/prelude.html">













<link rel="canonical" href="https://arend-lang.github.io/documentation/language-reference/prelude.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Arend",
      "url": "https://arend-lang.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arend Theorem Prover Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Arend Theorem Prover
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about" >About</a>
            </li><li class="masthead__menu-item">
              <a href="/documentation" >Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/download" >Download</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      



<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>

  
  
  
  

  
  
  

  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/documentation/getting-started"><span class="nav__sub-title">Getting Started</span></a>
        

        
      </li>
    
      <li>
        
          
          

          <a href="/documentation/language-reference"><span class="nav__sub-title">Language Reference</span></a>
        

        
        <ul>
          
            
            

            

            <li><a href="/documentation/language-reference/lexical-structure" class="">Lexical structure</a></li>

            
            
            
          
            
            

            

            <li><a href="/documentation/language-reference/definitions" class="">Definitions</a></li>

            
            
            
          
            
            

            

            <li><a href="/documentation/language-reference/expressions" class="">Expressions</a></li>

            
            
            
          
            
            

            

            <li><a href="/documentation/language-reference/prelude" class="active">Prelude</a></li>

            
            
            
              
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/documentation/tutorial"><span class="nav__sub-title">Tutorial</span></a>
        

        
        <ul>
          
            
            

            

            <li><a href="/documentation/tutorial/PartI" class="">Part I: Dependent Types</a></li>

            
            
            
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/documentation/libraries"><span class="nav__sub-title">Libraries</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Prelude">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Prelude
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Prelude</h4></header>
              <ul class="toc__menu">
  <li><a href="#nat-and-int">Nat and Int</a></li>
  <li><a href="#interval-and-squeeze-functions">Interval and squeeze functions</a></li>
  <li><a href="#path">Path</a></li>
  <li><a href="#idp">idp</a></li>
  <li><a href="#coe-and-coe2">coe and coe2</a></li>
  <li><a href="#iso">iso</a></li>
</ul>
            </nav>
          </aside>
        
        <p>Prelude is a built-in module, containing several definitions, which behave differently from ordinary definitions.
It is always imported implicitly in every module.
You can also import it explicitly to hide or rename some of its definitions.</p>

<p>We will discuss these definitions in this module.
You can look at the file <code class="highlighter-rouge">Prelude.ard</code>, which contains these definitions, but note that they only roughly correspond
to actual definitions since most of them cannot be actually defined in the ordinary syntax.</p>

<h1 id="nat-and-int">Nat and Int</h1>

<p>The definitions of <span class="inl-highlight">Nat</span>, <span class="inl-highlight">Int</span>, <span class="inl-highlight">Nat.<span class="o">+</span></span>, <span class="inl-highlight">Nat.<span class="o">*</span></span>, <span class="inl-highlight">Nat.-</span>, <span class="inl-highlight">Nat.&lt;=</span>, <span class="inl-highlight">Nat.div</span>, <span class="inl-highlight">Nat.mod</span>, and <span class="inl-highlight">Int.fromNat</span> are actually correct,
they could have been as well defined in an ordinary file and successfully typechecked according to normal Arend typechecking rules.
The only difference is that these definitions from Prelude are implemented more efficiently.
Definitions of <span class="inl-highlight">Nat.divMod</span>, <span class="inl-highlight">Nat.divModProp</span>, and <span class="inl-highlight">Nat.modProp</span> are omitted, but these functions also can be defined in Arend.</p>

<h1 id="interval-and-squeeze-functions">Interval and squeeze functions</h1>

<p>The definition of the interval type <span class="inl-highlight"><span class="k">\data</span> I <span class="o">|</span> left <span class="o">|</span> right</span> looks like the definition of the set with two
elements, but this is not true actually. 
One way to think about this data type is that it has one more constructor, which connects <span class="inl-highlight">left</span> and 
<span class="inl-highlight">right</span> and which cannot be accessed explicitly. This means that it is forbidden to define a function 
on <span class="inl-highlight">I</span> by pattern matching. Functions from <span class="inl-highlight">I</span> can be defined by means of several auxiliary functions:
<span class="inl-highlight">coe</span>, <span class="inl-highlight">coe2</span>, <span class="inl-highlight">squeeze</span>, <span class="inl-highlight">squeezeR</span>. Function <span class="inl-highlight">coe</span> plays the role of eliminator for <span class="inl-highlight">I</span>, it is discussed
further in this module.</p>

<p>Functions <span class="inl-highlight">squeeze</span> and <span class="inl-highlight">squeezeR</span> satisfy the following computational conditions:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>squeeze left j <span class="o">=&gt;</span> left
squeeze right j <span class="o">=&gt;</span> j
squeeze i left <span class="o">=&gt;</span> left
squeeze i right <span class="o">=&gt;</span> i

squeezeR left j <span class="o">=&gt;</span> j
squeezeR right j <span class="o">=&gt;</span> right
squeezeR i left <span class="o">=&gt;</span> i
squeezeR i right <span class="o">=&gt;</span> right</code></pre></div></div>

<p>Such functions can be defined in terms of the function <span class="inl-highlight">coe</span>,
but for efficiency purposes they are defined as primitives in Arend.</p>

<h1 id="path">Path</h1>

<p>The definition of <span class="inl-highlight">Path A a a’</span> is not correct.
By the definition, it should consist of all functions <span class="inl-highlight"><span class="k">\Pi</span> (i <span class="o">:</span> I) <span class="o">-&gt;</span> A i</span>, but actually it consists of all such
functions <span class="inl-highlight">f</span> that also satisfy computational conditions <span class="inl-highlight">f left <span class="o">=&gt;</span> a</span> and <span class="inl-highlight">f right <span class="o">=&gt;</span> a’</span>.
This means that while typechecking the expression <span class="inl-highlight">path f</span> the typechecker also checks that these computational conditions hold and, if they don’t, produces an error message.
For example, if you write <span class="inl-highlight"><span class="k">\func</span> test <span class="o">:</span> <span class="n">1</span> <span class="o">=</span> <span class="n">0</span> <span class="o">=&gt;</span> path (<span class="k">\lam</span> <span class="u">_</span> <span class="o">=&gt;</span> <span class="n">0</span>)</span>, you will see the following error message:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ERROR] test.ard:1:23: The left path endpoint mismatch
  Expected: <span class="n">1</span>
    Actual: <span class="n">0</span>
  In: path (<span class="k">\lam</span> <span class="u">_</span> <span class="o">=&gt;</span> <span class="n">0</span>)
  While processing: test</code></pre></div></div>

<p>The homotopy level of the universe, which is the type of <span class="inl-highlight">Path</span>, is also computed differently. If -1 ≤ n and
<span class="inl-highlight">A</span> is in a universe of (n+1)-types, then <span class="inl-highlight">Path A a a’</span> is in a universe of n-types. Otherwise, it has the same
homotopy level as <span class="inl-highlight">A</span>.</p>

<p>Prelude also contains an infix form of <span class="inl-highlight">Path</span> called <span class="inl-highlight"><span class="o">=</span></span> which is actually a correctly defined function.
The definition of <span class="inl-highlight"><span class="o">@</span></span> is also correct, but the typechecker has an eta rule for this definition:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>path (<span class="k">\lam</span> i <span class="o">=&gt;</span> p <span class="o">@</span> i) <span class="o">==</span> p</code></pre></div></div>
<p>This rule does not apply to functions <span class="inl-highlight"><span class="o">@</span></span> defined in other files.</p>

<p>Finally, function <span class="inl-highlight">Path.inProp</span> is not correct since it does not have a body.
It postulates the proof irrelevance for types in <span class="inl-highlight"><span class="kt">\Prop</span></span>, namely that any two elements of a type in <span class="inl-highlight"><span class="kt">\Prop</span></span> are equal.</p>

<h1 id="idp">idp</h1>

<p>The constructor <span class="inl-highlight">idp</span> is not a correct definition since it is not allowed to use lambdas in constructors.
This constructor can be used to replace the J operator with pattern matching.
For example, we can define J itself as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\func</span> J {A <span class="o">:</span> <span class="kt">\Type</span>} {a <span class="o">:</span> A} (B <span class="o">:</span> <span class="k">\Pi</span> (a' <span class="o">:</span> A) <span class="o">-&gt;</span> a <span class="o">=</span> a' <span class="o">-&gt;</span> <span class="kt">\Type</span>) (b <span class="o">:</span> B a idp) {a' <span class="o">:</span> A} (p <span class="o">:</span> a <span class="o">=</span> a') <span class="o">:</span> B a' p <span class="k">\elim</span> p
  <span class="o">|</span> idp <span class="o">=&gt;</span> b</code></pre></div></div>

<p>After we match <span class="inl-highlight">p</span> with <span class="inl-highlight">idp</span>, variables <span class="inl-highlight">a</span> and <span class="inl-highlight">a’</span> become equivalent.
To be more precise, we can refer to both variables, but the latter will evaluate to the former.</p>

<p>There are certain restrictions on this pattern matching principle.
If we want to match <span class="inl-highlight">p <span class="o">:</span> e <span class="o">=</span> e’</span> with <span class="inl-highlight">idp</span>, expressions <span class="inl-highlight">e</span> and <span class="inl-highlight">e’</span> cannot be arbitrary.
At least one of them must be a variable which does not occur in the other expression.
Also, it should be possible to substitute the variable with this expression, which means that the free variables of the expression should be bound at each occurrence of the variable.</p>

<p>This pattern matching principle can also be used in case-expressions.
For example, J can be defined as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\func</span> J {A <span class="o">:</span> <span class="kt">\Type</span>} {a <span class="o">:</span> A} (B <span class="o">:</span> <span class="k">\Pi</span> (a' <span class="o">:</span> A) <span class="o">-&gt;</span> a <span class="o">=</span> a' <span class="o">-&gt;</span> <span class="kt">\Type</span>) (b <span class="o">:</span> B a idp) {a' <span class="o">:</span> A} (p <span class="o">:</span> a <span class="o">=</span> a') <span class="o">:</span> B a' p
  <span class="o">=&gt;</span> <span class="k">\case</span> <span class="k">\elim</span> a'<span class="o">,</span> <span class="k">\elim</span> p <span class="k">\with</span> {
    <span class="o">|</span> <span class="u">_</span><span class="o">,</span> idp <span class="o">=&gt;</span> b
  }</code></pre></div></div>

<p>Note that the restrictions we described above should be satisfied.
Moreover, the expression which is matched with <span class="inl-highlight">idp</span> should have type <span class="inl-highlight">p <span class="o">:</span> e <span class="o">=</span> e’</span>,
where either <span class="inl-highlight">e</span> or <span class="inl-highlight">e’</span> is a variable bound in one of the arguments of the case expression.</p>

<h1 id="coe-and-coe2">coe and coe2</h1>

<p>Function <span class="inl-highlight">coe</span> is an eliminator for the interval type.
For every type over the interval, it allows to transport elements from the fiber over <span class="inl-highlight">left</span> to the fiber over an
arbitrary point.
It can be used to prove that <span class="inl-highlight">I</span> is contractible and that <span class="inl-highlight"><span class="o">=</span></span> satisfies the rules for
ordinary identity types.
The definition of <span class="inl-highlight">coe</span> is not correct since it uses pattern matching on the interval.
This function satisfies one additional reduction rule:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>coe (<span class="k">\lam</span> x <span class="o">=&gt;</span> A) a i <span class="o">=&gt;</span> a</code></pre></div></div>
<p>if <span class="inl-highlight">x</span> is not free in <span class="inl-highlight">A</span>.</p>

<p>Function <span class="inl-highlight">coe2</span> is a generalization of <span class="inl-highlight">coe</span>, which allows to transport elements between any two fibers of a type
over the interval.</p>

<h1 id="iso">iso</h1>

<p>The definition of <span class="inl-highlight">iso</span> is not correct since it uses pattern matching on the interval.
This definition implies the univalence axiom.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/JetBrains/Arend" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://twitter.com/ArendLang" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> Twitter</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Arend. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
